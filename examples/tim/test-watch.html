<!DOCTYPE html>
<html>
  <head>
    <title>Vue.js tim example</title>
    <script src="../../../dist/vue.js"></script>
  </head>
  <body>
    <div id="app">
      <h1>Test All</h1>
    </div>
  </body>
</html>


<script>


var vm = new Vue({
  template: `<div>
    <button @click="changeName">{{name}}</button>
    <button @click="changeNestObj">{{nestObj.foo.bar}}</button>

    <div @click="getRandomText">
      <span>{{ randomText }}</span>
    </div>
  </div>`,
  data() {
    return {
      name: 'L',
      nestObj: {
        foo: {
          bar: 'end'
        }
      },
      randomText: '随机数',
    }
  },
  watch: {
    'name': function() {
      console.log('name change')
    },
    nestObj:{
      deep: true,
      handler(newVal) {
        console.log('nestObj change')
      }
    }
  },
  methods: {
    changeName() {
      this.name = 'Tim'
    },
    changeNestObj() {
      this.nestObj.foo.bar = '😄'
    },
    getRandomText() {
      this.randomText = Math.random()
    },
  },
})

vm.$mount('#app');

</script>
